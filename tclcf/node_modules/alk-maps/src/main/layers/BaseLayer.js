var LayerApi = require('./LayerApi')

module.exports = function(ALKMaps, map, options) {

    var layer = new ALKMaps.Layer.BaseMap(
        'Default',
        {
            style: options.style || ALKMaps.STYLE.DEFAULT,
            region: options.region || 'NA'
        }, {
            wrapDateLine: true
        }
    )
    map.addLayer(layer)

    //API related stuff
    var api = new LayerApi(ALKMaps, map, layer, null, options)

    //default zoom
    var lonLat = api.createLonLat(
        options.defaultLon || -98.5,
        options.defaultLat || 40)
    map.setCenter(
        lonLat,
        options.defaultZoom || 5)

    return api
}
