<!DOCTYPE html>
<html>
<head>
    <script src="http://maps.alk.com/api/1.2/alkmaps.js" type="text/javascript"></script>
    <script src="../data/vehicles1.js" type="text/javascript"></script>
    <script src="../data/vehicles2.js" type="text/javascript"></script>
    <script src="../data/vehicles3.js" type="text/javascript"></script>
    <script src="../data/vehicles4.js" type="text/javascript"></script>
    <script src="../data/vehicles5.js" type="text/javascript"></script>
    <script src="../../PnetMap.js" type="text/javascript"></script>
    <link href="../style.css" rel="stylesheet">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
</head>
<body onload="onLoad()">

<script type="text/javascript">
    function onLoad () {
        var vehicles = vehicles1.concat(vehicles2).concat(vehicles3).concat(vehicles4).concat(vehicles5)
        var map = new PnetMap()
                .init('CC87143E1602274A804BEF2AD8D24653', 'map')
                .addLayer('image', 'Stop Now', {
                    externalGraphic: ALKMaps.IMAGE.HAZMAT_EXPLOSIVE,
                    colorCode: '#CC0000',
                    popupContent: '#${number}: It might blow up!',
                    clusterPopupContent: '#${number} Trucks weeeeee!'
                })
                .plotPoints('Stop Now', vehicles)
                .enableEvents({onSelect: onClick})
                .addPanel({ minimalist: true })
                .addPanelButton({
                    displayClass: 'button1',
                    trigger: function () {
                        console.log('beep')
                    },
                    type: ALKMaps.Control.TYPE_BUTTON,
                    title: 'Bus Vroom!'
                })
                .addPanelButton({
                    displayClass: 'button2',
                    trigger: function () {
                        console.log('boop')
                    },
                    type: ALKMaps.Control.TYPE_BUTTON,
                    title: 'Motorcycle Vroom!'
                })
                .addPanelButton({
                    displayClass: 'button3',
                    trigger: function () {
                        console.log('pop')
                    },
                    type: ALKMaps.Control.TYPE_BUTTON,
                    title: 'Car Vroom!'
                })

        //demonstrate changing icon after it's drawn
        function onClick(item, ALKMaps, map, callback) {
            item.externalGraphic = ALKMaps.IMAGE.HAZMAT_INHALANTS
            item.layer.redraw()
            callback(item)
        }
    }
</script>

<div id="map"></div>

</body>
</html>
