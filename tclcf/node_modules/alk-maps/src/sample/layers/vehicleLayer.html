<!DOCTYPE html>
<html>
<head>
    <script src="http://maps.alk.com/api/1.2/alkmaps.js" type="text/javascript"></script>
    <script src="../data/vehicles1.js" type="text/javascript"></script>
    <script src="../data/vehicles2.js" type="text/javascript"></script>
    <script src="../data/vehicles3.js" type="text/javascript"></script>
    <script src="../data/vehicles4.js" type="text/javascript"></script>
    <script src="../data/vehicles5.js" type="text/javascript"></script>
    <script src="../../PnetMap.js" type="text/javascript"></script>
    <link href="../style.css" rel="stylesheet">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
</head>
<body onload="onLoad()">

<script type="text/javascript">
    function onLoad() {
        var vehicles = vehicles1.concat(vehicles2).concat(vehicles3).concat(vehicles4).concat(vehicles5)
        var map = new PnetMap()
                .init('CC87143E1602274A804BEF2AD8D24653', 'map')
                .addLayer('vehicle', 'Stop Now', {
                    colorCode: '#CC0000',
                    popupContent: '#${number}: It might blow up!',
                    clusterPopupContent: 'Prefix<br>\n<repeat>#${number} Trucks weeeeee!<br>\n</repeat>Suffix'
                })
                .plotPoints('Stop Now', vehicles)
                .enableEvents()
                .addPanel({minimalist: true})
                .addPanelButton({
                    displayClass: 'button1',
                    autoActivate: true,
                    eventListeners: {
                        activate: function() {
                            console.log('bus active')
                        },
                        deactivate: function() {
                            console.log('bus not active')
                        }
                    },
                    type: ALKMaps.Control.TYPE_TOGGLE,
                    title: 'Bus Vroom!'
                })
                .addPanelButton({
                    displayClass: 'button2',
                    trigger: function() {
                        map.reverseGeocode(-93.44903, 44.92177,
                                function(response) {
                                    console.log('Reverse Geocode: ', response)
                                }, function(error) {
                                    console.log('Reverse Geocode error: ', error)
                                })
                    },
                    type: ALKMaps.Control.TYPE_BUTTON,
                    title: 'Motorcycle Vroom!'
                })
                .addPanelButton({
                    displayClass: 'button3',
                    trigger: function() {
                        console.log('pop')
                    },
                    type: ALKMaps.Control.TYPE_BUTTON,
                    title: 'Car Vroom!'
                })
    }
</script>

<div id="map"></div>

</body>
</html>
