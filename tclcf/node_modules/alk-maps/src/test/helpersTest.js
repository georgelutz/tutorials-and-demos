describe('helpers', function() {
    var helpers

    beforeEach(function() {
        helpers = require('../main/helpers')
    })

    it('should have a parseString method', function() {
        var item = {
            abc: '123',
            def: '456',
            ghi: '789'
        }
        var input = '${blah}${abc}def${ghi}jkl${nope}${}${{}}}}'
        var returned = helpers.parseString(input, item)

        returned.should.equal('123def789jkl${}${{}}}}')
    })

    it('should have an isValidGps method', function() {
        var items = [
            { a: '1', valid: true, location: { lon: 180, lat: 0}},
            { a: '2', valid: true, location: { lon: -180, lat: 0}},
            { a: '3', valid: false, location: { lon: -181, lat: 0}},
            { a: '4', valid: false, location: { lon: 181, lat: 0}},
            { a: '5', valid: true, location: { lon: 0, lat: -90}},
            { a: '6', valid: true, location: { lon: 0, lat: 90}},
            { a: '7', valid: false, location: { lon: 0, lat: -91}},
            { a: '8', valid: false, location: { lon: 0, lat: 91}}
        ]

        _.each(items, function(item) {
            helpers.isValidGps(item.location).should.equal(item.valid)
        })
    })
})
