<page-header
        title="{{'application.applicationEdit.' + ($ctrl.application.adding ? 'add' : 'edit') | translate}}"
        back-button-handler="'nav.application.list'">
</page-header>

<standard-card>
    <form name="$ctrl.form" layout="column" ng-submit="$ctrl.form.$valid && $ctrl.save()">

        <!-- name -->
        <md-input-container>
            <label translate="application.applicationEdit.name"></label>
            <input type="text"
                   ng-model="$ctrl.application.name"
                   name="name"
                   required/>
            <ng-messages for="$ctrl.form.name.$error" md-auto-hide="false" ng-if="$ctrl.form.name.$touched">
                <ng-message when="required"
                            ng-bind="'application.applicationEdit.name_required' | translate"></ng-message>
                <field-error field="name"></field-error>
            </ng-messages>
        </md-input-container>

        <!-- description -->
        <md-input-container>
            <label translate="application.applicationEdit.description"></label>
            <input type="text"
                   ng-model="$ctrl.application.description"
                   name="description"/>
            <ng-messages for="$ctrl.form.description.$error" md-auto-hide="false"
                         ng-if="$ctrl.form.description.$touched">
                <field-error field="description"></field-error>
            </ng-messages>
        </md-input-container>

        <!-- id -->
        <md-input-container>
            <label translate="application.applicationEdit.application_id"></label>
            <input type="text"
                   ng-model="$ctrl.application.clientId"
                   name="clientId"/>
            <ng-messages for="$ctrl.form.clientId.$error" md-auto-hide="false"
                         ng-if="$ctrl.form.clientId.$touched">
                <field-error field="clientId"></field-error>
            </ng-messages>
        </md-input-container>

        <!-- realms -->
        <span class="md-subheader" translate="application.applicationEdit.realms"></span>
        <md-checkbox ng-repeat="realm in $ctrl.realms" class="md-primary" type="checkbox"
                     ng-model="realm.selected" title="{{realm.name}}">
            {{realm.name}}
        </md-checkbox>

        <section layout="column" layout-gt-xs="row">
            <md-button ng-if="!$ctrl.application.adding" class="md-raised md-warn"
                       ng-click="$ctrl.confirmDelete($event)">
                {{'core.common.card.delete' | translate}}
            </md-button>
            <span flex></span>
            <md-button class="md-cancel" href="#/nav/application/list/">{{'core.common.card.cancel' |
                translate}}
            </md-button>
            <md-button md-primary type="submit">{{'core.common.card.save' | translate}}
            </md-button>
        </section>
    </form>
</standard-card>
