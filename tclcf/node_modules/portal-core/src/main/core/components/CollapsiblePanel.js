const _ = require('lodash')
require('../styles/collapsiblePanel.scss')

module.exports = {
    bindings: {
        panelOptions: '<'
    },
    template: require('../views/collapsiblePanel.html'),
    transclude: true,
    controller: class CollapsiblePanel {
        $onInit() {
            let defaultOptions = {
                defaultOpen: false,
                panelTitle: ''
            }

            let options = _.merge({}, defaultOptions, this.panelOptions)

            this.isOpen = options.defaultOpen
            this.panelTitle = options.panelTitle
        }

        toggle() {
            this.isOpen = !this.isOpen
        }
    }
}
