module.exports = {
    template: '<span ng-bind="$ctrl.output"></span>',
    bindings: {
        input: '<',
        fromUnit: '@',
        toUnit: '@',
        decimals: '@',
        label: '@'
    },
    controller: class DisplayUnit {
        /* @ngInject */
        constructor(unitConversionService) {
            this.unitConversionService = unitConversionService
        }
        
        $onInit() {
            this.calculate()
        }

        $onChanges() {
            this.calculate()
        }

        calculate() {
            let result = this.unitConversionService.convertUnit(this.input, this.fromUnit, this.decimals, this.label, this.toUnit)
            this.output = `${result.output} ${result.label}`
        }
    }
} 
