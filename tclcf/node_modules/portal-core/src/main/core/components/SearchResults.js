const _ = require('lodash')
require('../styles/searchResults.scss')

module.exports = {
    template: require('../views/searchResults.html'),
    controller: class SearchResults {
        /* @ngInject */
        constructor($state, $stateParams, searchService) {
            this.$state = $state
            this.$stateParams = $stateParams
            this.searchService = searchService
        }

        $onInit() {
            this.results = this.$state.$current.locals.globals.results

            this.term = this.$stateParams.term
            this.hasResults = !_.isEmpty(this.results)
        }

        list(type) {
            return this.searchService.routeToList(type, this.term)
        }

        key(type) {
            return this.searchService.getTypeTranslationKey(type)
        }
    }
}

    
