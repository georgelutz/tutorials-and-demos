require('./listPagination.scss')

module.exports = {
    bindings: {
        changePage: '&',
        page: '<',
        pageSize: '<',
        paginationOptions: '<',
        total: '<'
    },
    template: require('./listPagination.html'),
    controller: class ListPagination {
        /* @ngInject */
        constructor($state) {
            this.$state = $state
        }

        $onInit() {
            this.onPageChange = this.onPageChange.bind(this)
        }

        onPageChange(page, pageSize) {
            let params = {
                page: page - 1,
                pageSize
            }

            if (!this.changePage(params)) {
                return this.$state.go(this.$state.current, params)
            }
        }
    }
}
