<md-toolbar
    class="md-table-toolbar md-default list-toolbar"
    ng-hide="$ctrl.listService.selectedRows.length">
    <div
        class="md-toolbar-tools list-toolbar-tools">
        <h2
            class="md-title">
            {{$ctrl.toolbarTitle | translate}}
        </h2>

        <span
            flex
            ng-hide="$ctrl.listService.showFilter">
        </span>

        <!-- Filter Button -->
        <md-button
            class="md-icon-button list-filter-button"
            ng-if="$ctrl.toolbarOptions.filterButton"
            ng-hide="$ctrl.listService.showFilter"
            ng-click="$ctrl.showFilter(true)">
            <md-icon>filter_list</md-icon>
        </md-button>

        <!-- Chip filter -->
        <chip-filter
            flex
            class="list-chip-filter"
            on-load="$ctrl.onLoad(selectedChips)"
            chips-updated="$ctrl.chipsUpdated(selectedChips)"
            entities="$ctrl.chipFilterOptions.entities"
            entity-chips="$ctrl.chipFilterOptions.entityChips"
            ng-if="$ctrl.toolbarOptions.filterButton"
            ng-show="$ctrl.listService.showFilter"
            static-results="$ctrl.chipFilterOptions.staticResults">
        </chip-filter>

        <!-- Chip Filter close button -->
        <md-button
            class="md-icon-button"
            ng-if="$ctrl.toolbarOptions.filterButton"
            ng-show="$ctrl.listService.showFilter"
            ng-click="$ctrl.clearChips()">
            <md-icon>close</md-icon>
        </md-button>

        <!-- Density Button -->
        <md-menu ng-if="$ctrl.toolbarOptions.densityButton">
            <md-button class="md-icon-button"
                       ng-click="$mdOpenMenu()">
                <md-icon>settings</md-icon>
            </md-button>
            <md-menu-content>
                <md-menu-item>
                    <p>{{'core.common.display.density' | translate | uppercase}}</p>
                </md-menu-item>

                <!-- Low Density -->
                <md-menu-item>
                    <md-button ng-click="$ctrl.onDensityChange('low')">
                        <md-icon ng-show="$ctrl.density === 'low'">radio_button_checked</md-icon>
                        <md-icon ng-hide="$ctrl.density === 'low'">radio_button_unchecked</md-icon>
                        {{'core.common.display.low' | translate | uppercase}}
                    </md-button>
                </md-menu-item>

                <!-- High Density -->
                <md-menu-item>
                    <md-button ng-click="$ctrl.onDensityChange('high')">
                        <md-icon ng-show="$ctrl.density === 'high'">radio_button_checked</md-icon>
                        <md-icon ng-hide="$ctrl.density === 'high'">radio_button_unchecked</md-icon>
                        {{'core.common.display.high' | translate | uppercase}}
                    </md-button>
                </md-menu-item>
            </md-menu-content>
        </md-menu>

        <!-- Refresh Button -->
        <md-button class="md-icon-button"
                   ng-if="$ctrl.toolbarOptions.refreshButton"
                   ng-click="$ctrl.refresh()">
            <md-icon>refresh</md-icon>
        </md-button>

        <!-- Default Custom Actions: Icon Buttons -->
        <md-button class="md-icon-button"
                   ng-repeat="iconButton in $ctrl.defaultIconButtons"
                   ng-if="iconButton.permission ? $ctrl.currentUser.hasPermission(iconButton.permission) : true"
                   ng-click="iconButton.click($event, $ctrl)">
            <md-icon ng-if="iconButton.icon.isSvg"
                     md-svg-icon="{{iconButton.icon.name}}"></md-icon>
            <md-icon ng-if="!iconButton.icon.isSvg">{{iconButton.icon.name}}</md-icon>
        </md-button>

        <!-- Default Custom Actions: Text Buttons -->
        <md-menu ng-if="$ctrl.defaultTextButtons.length">
            <md-button class="md-icon-button"
                       ng-click="$mdOpenMenu($event)">
                <md-icon>more_vert</md-icon>
            </md-button>
            <md-menu-content>
                <md-menu-item ng-repeat="textButton in $ctrl.defaultTextButtons"
                              ng-if="textButton.permission ? $ctrl.currentUser.hasPermission(textButton.permission) : true">
                    <md-button ng-click="textButton.click($event, $ctrl)">
                        {{textButton.text | translate | uppercase}}
                    </md-button>
                </md-menu-item>
            </md-menu-content>
        </md-menu>
    </div>
</md-toolbar>
