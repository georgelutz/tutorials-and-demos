var _ = require('lodash')

module.exports = /* @ngInject */ function() {
    var menuItems = []

    this.$get = function() {
        return _.sortBy(_.cloneDeep(menuItems), 'sort')
    }

    this.getMenuItems = function() {
        return menuItems
    }

    this.addMenuItem = function(title, icon, href, sort, showExpr, activeExpr) {
        menuItems.push({
            title: title,
            icon: icon,
            href: href,
            sort: sort || title,
            showExpr: showExpr,
            activeExpr: activeExpr
        })
    }

    this.removeByTitle = function(title) {
        var item = _.find(menuItems, {title: title})
        _.pull(menuItems, item)
        return item
    }
}
