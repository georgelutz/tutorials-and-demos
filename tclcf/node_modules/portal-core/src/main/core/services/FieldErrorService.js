let _ = require('lodash')

module.exports = class FieldErrorService {
    /* @ngInject */
    constructor() {
        this.fieldErrors = {}
    }

    getError(field) {
        return {
            serverError: _.find(this.fieldErrors, (fieldError, key) => _.startsWith(key, field))
        }
    }

    clearError(field) {
        this.fieldErrors[field] = {}
    }
}
