module.exports = class TitleService {
    /* @ngInject */
    constructor($document, $translate, indexConfig) {
        this.$document = $document
        this.$translate = $translate
        this.indexConfig = indexConfig

        //initialize
        this.$translate(this.indexConfig.titleKey)
            .then(title => {
                this.defaultTitle = title
                this.setTitle()
            })
    }

    setTitle(newTitle) {
        let suffix = newTitle ? ` - ${newTitle}` : ''
        this.$document[0].title = this.defaultTitle + suffix
    }

    resetTitle() {
        this.setTitle()
    }
}
