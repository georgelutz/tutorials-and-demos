<div class="coreChipFilter">
    <md-chips ng-model="$ctrl.selectedChips"
              md-autocomplete-snap
              md-on-add="$ctrl.addChip($chip)"
              md-on-remove="$ctrl.removeChip()"
              md-require-match="true">
        <md-autocomplete
                md-autofocus="true"
                md-autoselect="true"
                md-select-on-match="false"
                md-search-text-change="$ctrl.searchTextChange($ctrl.searchText)"
                md-search-text="$ctrl.searchText"
                md-items="item in $ctrl.performQuery($ctrl.searchText)"
                md-min-length="2"
                placeholder="{{'core.common.filter.results' | translate}}">
            <md-item-template>
                <md-icon ng-bind="item.icon" ng-if="item.icon && !item.isSvg"></md-icon>
                <md-icon md-svg-icon="{{item.icon}}" ng-if="item.icon && item.isSvg"></md-icon>
                <span md-highlight-text="$ctrl.searchText" md-highlight-flags="gi">
                    {{item.name}}
                </span>
            </md-item-template>
        </md-autocomplete>
        <md-chip-template>
            <chip-theme value="$chip.negate" theme="negate"></chip-theme>
            <md-icon class="chipIcon"
                     ng-bind="$chip.icon"
                     ng-if="$chip.icon && !$chip.isSvg">
            </md-icon>
            <md-icon class="chipIcon"
                     md-svg-icon="{{$chip.icon}}"
                     ng-if="$chip.icon && $chip.isSvg">
            </md-icon>
            <span class="chipText">{{$chip.name || 'Error'}}</span>
        </md-chip-template>
        <button md-chip-remove class="md-primary">
            <md-icon class="md-chip-remove" md-svg-icon="md-close"></md-icon>
        </button>
    </md-chips>
    <br>
</div>
