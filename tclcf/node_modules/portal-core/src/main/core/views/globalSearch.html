<md-autocomplete
    md-autoselect="true"
    md-select-on-match="false"
    md-selected-item="$ctrl.selectedItem"
    md-search-text-change="$ctrl.searchTextChange(searchText)"
    md-search-text="$ctrl.searchText"
    md-selected-item-change="$ctrl.selectedItemChange(item)"
    md-items="item in $ctrl.performQuery($ctrl.searchText)"
    md-min-length="2"
    md-item-text="item.name"
    placeholder="{{'core.common.form.search' | translate}}">
    <md-item-template>
        <div ng-click="$ctrl.logAutocompleteSelection(item)">
            <md-icon ng-bind="item.icon" ng-if="item.icon && !item.isSvg"></md-icon>
            <md-icon md-svg-icon="{{item.icon}}" ng-if="item.icon && item.isSvg"></md-icon>
            <span md-highlight-text="$ctrl.searchText" md-highlight-flags="gi">
                {{item.name}}
            </span>
        </div>
    </md-item-template>
</md-autocomplete>
