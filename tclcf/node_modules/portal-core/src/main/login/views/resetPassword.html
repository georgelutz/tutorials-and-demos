<div>
    <p ng-show="$ctrl.activate" translate="login.reset.activate_title"></p>
    <p ng-hide="$ctrl.activate" translate="login.reset.password_title"></p>

    <form name="$ctrl.form" layout="column" ng-submit="$ctrl.compareFields() && $ctrl.form.$valid && $ctrl.submit()">
        <!-- password -->
        <md-input-container>
            <label translate="login.common.password"></label>
            <input type="password"
                   name="password"
                   ng-model="$ctrl.user.password"
                   ng-blur="$ctrl.compareFields()"
                   required
                   autofocus />
            <ng-messages for="$ctrl.form.password.$error" md-auto-hide="false" ng-if="$ctrl.form.password.$touched">
                <ng-message when="required">{{'login.reset.password_required' | translate}}</ng-message>
                <field-error></field-error>
            </ng-messages>
        </md-input-container>

        <!-- confirm password -->
        <md-input-container>
            <label translate="login.reset.confirm_password"></label>
            <input type="password"
                   name="confirmPassword"
                   ng-model="$ctrl.confirmPassword"
                   ng-blur="$ctrl.compareFields()"
                   required/>
            <ng-messages for="$ctrl.form.confirmPassword.$error"
                         md-auto-hide="false"
                         ng-if="$ctrl.form.confirmPassword.$touched">
                <ng-message when="required">{{'login.reset.confirm_password_required' | translate}}</ng-message>
                <ng-message when="fieldEquality">{{'login.reset.confirm_password_match' | translate}}</ng-message>
            </ng-messages>
        </md-input-container>

        <!-- buttons -->
        <div layout="row" layout-align="end center">
            <md-button href="#/login" class="md-cancel">{{'core.common.form.cancel' | translate}}</md-button>
            <md-button md-primary type="submit">
                {{'login.reset.' + ($ctrl.activate ? 'activate' : 'reset') | translate}}
            </md-button>
        </div>
    </form>
</div>
