module.exports = {
    template: require('../views/userEditSecurity.html'),
    controller: class UserEditSecurity {
        /* @ngInject */
        constructor($state, auth0Lock) {
            this.$state = $state
            this.auth0Lock = auth0Lock
        }

        $onInit() {
            //TODO: replace this workaround when new router is available
            this.currentUser = this.$state.$current.locals.globals.currentUser
            this.user = this.$state.$current.locals.globals.user

            this.editingSelf = this.user.id === this.currentUser.uid
        }

        changePassword() {
            this.auth0Lock.showReset({}, () => {})
        }
    }
}
