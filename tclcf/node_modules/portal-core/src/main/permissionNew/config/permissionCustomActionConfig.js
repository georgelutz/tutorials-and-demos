module.exports =
    /* @ngInject */
    function($mdIconProvider, customActionConfigProvider) {
        customActionConfigProvider.addTextButton('permissionList', 'default', {
            text: 'permission.permissionEdit.add',
            click: (event, list) => {
                list.$state.go('nav.permission.add')
            },
            permission: 'ROLE_PERMISSION_CREATE'
        })

        customActionConfigProvider.addTextButton('permissionList', 'alternate', {
            text: 'core.common.card.details',
            click: (event, list, row) => {
                list.$state.go('nav.permission.details', row)
            },
            permission: 'ROLE_PERMISSION_READ'
        })

        customActionConfigProvider.addTextButton('permissionList', 'alternate', {
            text: 'core.common.card.edit',
            click: (event, list, row) => {
                list.$state.go('nav.permission.edit', row)
            },
            permission: 'ROLE_PERMISSION_WRITE'
        })

        customActionConfigProvider.addTextButton('permissionList', 'alternate', {
            text: 'core.common.card.delete',
            click: (event, list, row) => {
                let permission = row

                return permission.confirmDelete(event)
                    .then(() => {
                        if (permission.deleted) {
                            list.listService.selectedRows = []
                        }
                    })
            },
            permission: 'ROLE_PERMISSION_DELETE'
        })
    }
