describe('MapDialog', () => {
    let component
    let ctrl
    let defer

    beforeEach(() => {
        defer = {}

        component = require('../../../main/core/components/MapDialog')
        ctrl = new component.controller(defer)
    })

    it('should load the map async and resolve it', () => {
        defer.resolve = sinon.stub()
        let map = {map: true}
        
        ctrl.mapLoaded(map)

        defer.resolve.should.have.been.calledWith(map)
    })
})
