describe('menuLink', () => {
    let component
    let ctrl
    let navigation
    let $analytics
    let $state

    beforeEach(() => {
        $analytics = {
            eventTrack: sinon.stub()
        }

        $state = {
            current: {
                name: 'hello'
            }
        }

        navigation = {}

        component = require('../../../main/core/components/MenuLink')
        ctrl = new component.controller($analytics, $state, navigation)
    })

    it('should check for svg files', () => {
        ctrl.section = {
            icon: 'test.svg'
        }
        let result = ctrl.isSvg()
        result.should.equal(true)
    })

    it('should check if selected', () => {
        ctrl.section = {
            activeStates: ['hello', 'world']
        }
        let result = ctrl.isSelected()
        result.should.equal(true)
    })

    it('should track left nav clicks with analytics', () => {
        let section = {
            url: '#/nav/pageName'
        }

        ctrl.reportLeftNavClick(section)

        $analytics.eventTrack.should.have.been.calledWith('Left Menu Link Clicked', { category: 'Navigation Tracking', label: '#/nav/pageName' })
    })
})


