describe('menuToggle', () => {
    let component
    let ctrl
    let navigation
    let $timeout

    beforeEach(() => {
        navigation = {}
        navigation.isVisible = sinon.stub().returns(true)
        navigation.toggleSelectSection = sinon.stub()

        $timeout = {}

        component = require('../../../main/core/components/MenuToggle')
        ctrl = new component.controller($timeout, navigation)
    })

    it('should check for svg files', () => {
        ctrl.section = {
            icon: 'test.svg'
        }
        let result = ctrl.isSvg()
        result.should.equal(true)
    })

    it('should return selected', () => {
        ctrl.section = {
            selected: ['Smash', 'Bros']
        }
        let result = ctrl.isSelected()
        result.should.deep.equal(ctrl.section.selected)
    })

    it('should return if section is visible', () => {
        let page = 5
        let result = ctrl.isVisible(page)
        result.should.equal(true)
    })

    it('should toggle', () => {
        ctrl.section = 'toggle'
        ctrl.toggle()
        navigation.toggleSelectSection.should.have.been.calledWith(ctrl.section)
    })

    it('should get height', () => {
        ctrl.section = {
            selected: [5],
            pages: {
                5:{
                    visible: true
                },
                6: {
                    visible: true
                }
            }
        }

        let result = ctrl.getHeight()
        result.should.equal(102)
    })

    it('should get height', () => {
        ctrl.section = {
            selected: '',
            pages: [5]
        }

        let result = ctrl.getHeight()
        result.should.equal(0)
    })
})


