describe('ReleaseNotes', () => {
    let component
    let ctrl
    let $showdown
    let staticContentService
    let $log

    beforeEach(() => {
        $log = {}
        $log.error = sinon.stub()

        $showdown = {}

        staticContentService = {}
        staticContentService.getContent = sinon.stub()

        component = require('../../../main/core/components/ReleaseNotes')
        ctrl = new component.controller($log, $showdown, staticContentService)
    })

    it('should load release notes', () => {
        let releaseNotes = 'wee'
        staticContentService.getContent.withArgs('RELEASE_NOTES.md').resolves(releaseNotes)

        $showdown.makeHtml = input => `${input}html`

        return ctrl.$onInit()
            .then(() => {
                ctrl.content.should.equal('weehtml')
            })
    })
})
