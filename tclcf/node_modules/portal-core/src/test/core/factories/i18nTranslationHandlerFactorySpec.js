describe('i18nTranslationHandlerFactory', function() {
    var $log
    var i18nTranslationHandlerFactory
    var func

    beforeEach(function() {
        $log = {}
        $log.warn = sinon.stub()

        i18nTranslationHandlerFactory = require('../../../main/core/factories/i18nTranslationHandlerFactory')
        func = i18nTranslationHandlerFactory($log)
    })

    it('should return fallbacks and warn', function() {
        func('core.common.card.form.save').should.equal('save')
        func('core.common.card.form.delete').should.equal('delete')
        func('core.common.card.form.').should.equal('')
        func('I AM A STRING').should.equal('I AM A STRING')
        $log.warn.should.have.callCount(4)
    })

    it('no action for array indices', function() {
        func('core.common.card.some_array.4').should.equal('core.common.card.some_array.4')
        func('some_array.4').should.equal('some_array.4')

        $log.warn.should.not.have.been.called
    })
})
