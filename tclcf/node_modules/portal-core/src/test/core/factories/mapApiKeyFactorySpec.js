describe('mapApiKeyFactory', () => {
    let mapApiKeyFactory
    let mapConfig
    let urlConfig

    beforeEach(() => {
        mapConfig = {
            apiKeys: {
                dev: 'devKey',
                qa: 'qaKey',
                staging: 'stagingKey',
                prod: 'prodKey'
            }
        }

        urlConfig = {
            getEnv: sinon.stub()
        }

        mapApiKeyFactory = require('../../../main/core/factories/mapApiKeyFactory')
    })

    it('should return dev key', () => {
        urlConfig.getEnv.returns({name: 'dev'})

        mapApiKeyFactory(mapConfig, urlConfig).should.equal('devKey')
    })

    it('should return qa key', () => {
        urlConfig.getEnv.returns({name: 'qa'})

        mapApiKeyFactory(mapConfig, urlConfig).should.equal('qaKey')
    })

    it('should return staging key', () => {
        urlConfig.getEnv.returns({name: 'staging'})

        mapApiKeyFactory(mapConfig, urlConfig).should.equal('stagingKey')
    })

    it('should return prod key', () => {
        urlConfig.getEnv.returns({name: 'prod'})

        mapApiKeyFactory(mapConfig, urlConfig).should.equal('prodKey')
    })
})
