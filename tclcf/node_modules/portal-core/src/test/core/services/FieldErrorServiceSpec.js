let FieldErrorService = require('../../../main/core/services/FieldErrorService')

describe('FieldErrorService', () => {
    let svc

    beforeEach(() => {
        svc = new FieldErrorService()
    })

    it('should contain a simple errors object', () => {
        svc.fieldErrors.should.deep.equal({})
    })

    it('should fetch errors by what they start with', () => {
        svc.fieldErrors['abc.def[0].g'] = 'wee'

        svc.getError('abc').should.deep.equal({serverError: 'wee'})
    })

    it('should clear errors', () => {
        svc.fieldErrors['abc.def[0].g'] = 'wee'

        svc.clearError('abc.def[0].g')
        svc.fieldErrors['abc.def[0].g'].should.be.empty
    })
})
