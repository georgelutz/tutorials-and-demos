describe('UserEditSecurity', () => {
    let component
    let ctrl
    let user
    let currentUser
    let $state
    let auth0Lock

    beforeEach(() => {
        user = {
            id: 'userUid'
        }

        currentUser = {}
        currentUser.uid = '123'

        $state = {}
        _.set($state, '$current.locals.globals', {
            currentUser, user
        })
        
        auth0Lock = {}

        component = require('../../../main/loginNew/components/UserEditSecurity')
        ctrl = new component.controller($state, auth0Lock)

        ctrl.$onInit()
    })

    it('should change password', () => {
        auth0Lock.showReset = sinon.stub()
        
        ctrl.changePassword()
        
        auth0Lock.showReset.should.have.been.called
    })

})
