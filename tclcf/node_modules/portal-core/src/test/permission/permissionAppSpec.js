const proxyquire = require('proxyquire').noCallThru()

describe('permissionApp', () => {
    let angular

    beforeEach(() => {
        angular = {}
        angular.module = sinon.stub().returnsThis()
        angular.component = sinon.stub().returnsThis()
        angular.config = sinon.stub().returnsThis()
        angular.constant = sinon.stub().returnsThis()
        angular.directive = sinon.stub().returnsThis()
        angular.factory = sinon.stub().returnsThis()
        angular.filter = sinon.stub().returnsThis()
        angular.provider = sinon.stub().returnsThis()
        angular.run = sinon.stub().returnsThis()
        angular.service = sinon.stub().returnsThis()
    })

    it('should load', () => {
        proxyquire('../../main/permission/permissionApp', {angular})

        angular.module.should.have.been.calledWith('portal-core-permission', sinon.match.array)
    })
})
