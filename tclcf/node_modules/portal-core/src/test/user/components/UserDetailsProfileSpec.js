describe('UserDetailsProfile', () => {
    var component
    var ctrl
    var user
    var currentUser
    var currentOrg
    var $state

    beforeEach(() => {
        user = {locale: 'en-US'}

        currentUser = {}
        currentUser.canEditUser = sinon.stub().returns(true)

        currentOrg = 'PizzaHut'

        $state = {}
        _.set($state, '$current.locals.globals', {
            user, currentUser, currentOrg
        })

        component = require('../../../main/user/components/UserDetailsProfile')
        ctrl = new component.controller($state)
        ctrl.$onInit()
    })

    it('should initialize', () => {
        ctrl.user.should.equal(user)
        ctrl.locale = 'english_key'
        ctrl.currentOrg.should.equal(currentOrg)
        ctrl.canEditUser.should.be.true
    })
})
